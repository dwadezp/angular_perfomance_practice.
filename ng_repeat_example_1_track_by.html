<!DOCTYPE html>
<html ng-app="app">
<head>
  <title></title>
</head>
<body>
   <main></main>
</body>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.5/angular.js"></script>
<script type="text/javascript">
  function MainFunctionController($http, $timeout) {
    var ctrl = this;
    ctrl.refresh = refresh;

    ctrl.trArray = createArray();
    function refresh() {
      debugger;
      ctrl.trArray = updateArray();
    };

    function createArray() {
      var arr = [],
          i = 0;
      for(i; i<100; i++) {
        arr.push({
          id: i,
          name: 'name' + i,
          value: 'some value' + i
        });
      }
      return arr;
    }
    function updateArray() {
      var arr = [],
          i = 0;
      for(i; i<100; i++) {
        arr.push({
          id: i,
          name: 'name' + i,
          value: 'some value' + i
        });
      }
      arr.push({
         id: 101,
         name: 'name101',
         value: 'some value101'
      });

      return arr;
    }
  }

  angular.module('app', [])
    .component('main', {
      template: `
        <input type='text' ng-model='$ctrl.someText'>
        <button ng-click="$ctrl.refresh()">Refresh</button>
        <table border=1>
          <th>Name</th><th>Value</th>
          <tr ng-repeat="item in $ctrl.trArray">
            <td>{{item.name}}</td><td>{{item.value}}</td>
          </tr>
        </table>
      `,
      controller: MainFunctionController
    });
</script>
</html>
